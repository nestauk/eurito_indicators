<script>
	import {fontFamily, fontScaling, fontVariation} from 'app/stores/fontScaling';

	const fontFamilies = [
		'Open Sans',
		'Archivo',
		'Open Dyslexia'
	]
	const fontVariations = {
		'Open Dyslexia': [
			"'wdth' 80",
			"'wdth' 100",
			"'wdth' 120",
		]
	};
	const fontSizes = [0.75, 1.0, 1.25];

	let currentFamilyIndex = 0;
	let currentSizeIndex = 0;
	let currentVariationIndex = 0;
	let variationsEnabled = false;

	const nextFont = () => {
		currentFamilyIndex += 1;
		currentFamilyIndex %= fontFamilies.length;
		const fam = fontFamilies[currentFamilyIndex];
		fontFamily.set(fam);
		variationsEnabled = fam in fontVariations;
	}
	const nextSize = () => {
		currentSizeIndex += 1;
		currentSizeIndex %= fontSizes.length;
		fontScaling.set(fontSizes[currentSizeIndex]);
	}
	const nextVariation = () => {
		if (!variationsEnabled) {
			return;
		}
		const fam = fontFamilies[currentFamilyIndex];
		currentVariationIndex += 1;
		currentVariationIndex %= fontVariations[fam].length;
		fontVariation.set(fontVariations[fam][currentVariationIndex]);
	}
</script>
<div>
	<button on:click={nextFont}>font</button>
	<button on:click={nextSize}>size</button>
	<button on:click={nextVariation}>width</button>
</div>

<style>
	div {
		position: absolute;
		background: white;
		border: thin solid black;
	}
</style>